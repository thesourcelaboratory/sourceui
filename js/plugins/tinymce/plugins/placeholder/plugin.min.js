tinymce.PluginManager.add('placeholder', function(editor) {

	function testPlaceholder(){
		if (editor.getContent() === "" ) {
			tinymce.DOM.addClass( editor.bodyElement, 'empty-content' );
		} else {
			tinymce.DOM.removeClass( editor.bodyElement, 'empty-content' );
		}
	}

	editor.on('init', function () {
		var element = editor.getElement();
		tinymce.DOM.addClass( editor.bodyElement, 'content-placeholder' );
		element.setAttribute("data-placeholder",editor.settings.placeholder||element.getAttribute("placeholder")||element.getAttribute("data-placeholder")||'Text here');
		testPlaceholder();
	});
	editor.on('change', function () {
		testPlaceholder();
	});
	editor.on('input', function () {
		testPlaceholder();
	});
});